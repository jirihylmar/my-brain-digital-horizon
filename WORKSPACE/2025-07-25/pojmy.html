<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prediktivn√≠ modelov√°n√≠ - Slovn√≠k pojm≈Ø</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .nav {
            background: #34495e;
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 2rem;
        }

        .nav a {
            color: white;
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: all 0.3s;
            font-weight: 500;
        }

        .nav a:hover {
            background: #3498db;
            transform: translateY(-2px);
        }

        .content {
            padding: 2rem;
        }

        .section {
            margin-bottom: 3rem;
            padding: 2rem;
            border-radius: 10px;
            background: #f8f9fa;
            border-left: 5px solid #3498db;
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 1.5rem;
            font-size: 2rem;
            border-bottom: 3px solid #3498db;
            padding-bottom: 0.5rem;
        }

        .concept {
            background: white;
            margin: 1.5rem 0;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }

        .concept:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .concept h3 {
            color: #e74c3c;
            margin-bottom: 1rem;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .concept-icon {
            width: 30px;
            height: 30px;
            background: #e74c3c;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .basic-definition {
            background: #e8f5e8;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid #27ae60;
        }

        .basic-definition h4 {
            color: #27ae60;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .basic-definition p {
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .example {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .example h4 {
            color: #856404;
            margin-bottom: 0.5rem;
        }

        .chart-container {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            position: relative;
            height: 300px;
        }

        .formula {
            background: #ecf0f1;
            padding: 1rem;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 1rem 0;
            text-align: center;
            font-size: 1.1rem;
            border: 2px dashed #3498db;
        }

        .key-points {
            background: #e8f6f3;
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            border-left: 4px solid #27ae60;
        }

        .key-points h4 {
            color: #27ae60;
            margin-bottom: 0.5rem;
        }

        .key-points ul {
            margin-left: 1rem;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .comparison-table th {
            background: #3498db;
            color: white;
            padding: 1rem;
            text-align: left;
        }

        .comparison-table td {
            padding: 1rem;
            border-bottom: 1px solid #ecf0f1;
        }

        .comparison-table tr:hover {
            background: #f8f9fa;
        }

        .highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
            font-weight: bold;
        }

        .interactive-demo {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .demo-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .demo-controls input, .demo-controls select {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .demo-controls button {
            background: #28a745;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .demo-controls button:hover {
            background: #218838;
        }

        .metric-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .metric-box {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .feature-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.9rem;
        }

        .feature-table th, .feature-table td {
            border: 1px solid #ddd;
            padding: 0.5rem;
            text-align: center;
        }

        .feature-table th {
            background: #f8f9fa;
            font-weight: bold;
        }

        .original-data { background: #e3f2fd; }
        .lag-feature { background: #fff3e0; }
        .rolling-feature { background: #f3e5f5; }
        .target { background: #e8f5e8; }

        @media (max-width: 768px) {
            .nav ul {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .content {
                padding: 1rem;
            }
            
            .header h1 {
                font-size: 2rem;
            }

            .metric-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîÆ Prediktivn√≠ modelov√°n√≠</h1>
            <p>Kompletn√≠ slovn√≠k pojm≈Ø s vizualizacemi</p>
        </div>

        <nav class="nav">
            <ul>
                <li><a href="#basics">Z√°klady</a></li>
                <li><a href="#arima">ARIMA</a></li>
                <li><a href="#holt-winters">Holt-Winters</a></li>
                <li><a href="#ml">Machine Learning</a></li>
                <li><a href="#evaluation">Evaluace</a></li>
                <li><a href="#comparison">Porovn√°n√≠</a></li>
            </ul>
        </nav>

        <div class="content">
            
            <!-- Z√°kladn√≠ pojmy -->
            <section id="basics" class="section">
                <h2>üìö Z√°kladn√≠ pojmy</h2>
                
                <div class="concept">
                    <h3><span class="concept-icon">üìà</span>ƒåasov√° ≈ôada (Time Series)</h3>
                    <div class="basic-definition">
                        <h4>Co to je:</h4>
                        <p>Sekvence dat uspo≈ô√°dan√Ωch v ƒçase - nap≈ô. denn√≠ teploty, hodinov√° spot≈ôeba energie, mƒõs√≠ƒçn√≠ prodeje.</p>
                    </div>
                    <div class="example">
                        <h4>üîç P≈ô√≠klad:</h4>
                        <p>Spot≈ôeba energie v MWh: [120, 125, 118, 130, 135, 128, ...] mƒõ≈ôen√° ka≈ædou hodinu</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="timeSeriesBasic"></canvas>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üìä</span>Stacionarita</h3>
                    <div class="basic-definition">
                        <h4>Co to je:</h4>
                        <p><strong>Stacion√°rn√≠ ≈ôada</strong> = data maj√≠ v ƒçase konstantn√≠ pr≈Ømƒõr a rozptyl (nevariabilitu)</p>
                        <p><strong>Nestacion√°rn√≠ ≈ôada</strong> = m√° trend (roste/kles√°) nebo mƒõn√≠c√≠ se variabilitu</p>
                    </div>
                    <div class="example">
                        <h4>üîç Analogie:</h4>
                        <p><strong>Stacion√°rn√≠:</strong> V√°ha dospƒõl√©ho ƒçlovƒõka - kol√≠s√° kolem konstanty<br>
                        <strong>Nestacion√°rn√≠:</strong> V√Ω≈°ka d√≠tƒõte - neust√°le roste</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="stationarityBasic"></canvas>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üìâ</span>Diferenciov√°n√≠ (Differencing)</h3>
                    <div class="basic-definition">
                        <h4>Co to je:</h4>
                        <p>Matematick√° operace: m√≠sto p≈Øvodn√≠ch hodnot pou≈æ√≠v√°me <strong>rozd√≠ly mezi sousedn√≠mi hodnotami</strong></p>
                        <p>Slou≈æ√≠ k odstranƒõn√≠ trendu a dosa≈æen√≠ stacionarity</p>
                    </div>
                    <div class="example">
                        <h4>üîç P≈ô√≠klad:</h4>
                        <p>P≈Øvodn√≠ data: [100, 105, 110, 115]<br>
                        Po diferenciov√°n√≠: [5, 5, 5] (105-100=5, 110-105=5, 115-110=5)</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="differencingBasic"></canvas>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üéØ</span>Chyba predikce (Prediction Error)</h3>
                    <div class="basic-definition">
                        <h4>Co to je:</h4>
                        <p><strong>Chyba = Skuteƒçn√° hodnota - Predikovan√° hodnota</strong></p>
                        <p>Pokud predikujeme 120 a realita je 125, chyba = 125 - 120 = 5</p>
                    </div>
                    <div class="example">
                        <h4>üîç P≈ô√≠klad:</h4>
                        <p>Model ≈ôekl: "Z√≠tra bude 25¬∞C"<br>
                        Realita: 28¬∞C<br>
                        Chyba: 28 - 25 = +3¬∞C (model podhodnotil)</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="errorBasic"></canvas>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üìä</span>Rozptyl (Variance)</h3>
                    <div class="basic-definition">
                        <h4>Co to je:</h4>
                        <p><strong>M√≠ra toho, jak moc se data rozptyluj√≠ kolem pr≈Ømƒõru</strong></p>
                        <p>Vysok√Ω rozptyl = data se hodnƒõ li≈°√≠<br>N√≠zk√Ω rozptyl = data jsou podobn√°</p>
                    </div>
                    <div class="example">
                        <h4>üîç Analogie:</h4>
                        <p><strong>N√≠zk√Ω rozptyl:</strong> V≈°ichni studenti maj√≠ zn√°mky 2,1,2,2,1 (podobn√©)<br>
                        <strong>Vysok√Ω rozptyl:</strong> Zn√°mky 5,1,4,1,5 (velmi rozd√≠ln√©)</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="varianceBasic"></canvas>
                    </div>
                </div>
            </section>

            <!-- ARIMA Section -->
            <section id="arima" class="section">
                <h2>üìà ARIMA Modely</h2>
                
                <div class="concept">
                    <h3><span class="concept-icon">AR</span>Autoregresn√≠ (AR) komponenta</h3>
                    <div class="basic-definition">
                        <h4>Co to znamen√° "Autoregresn√≠":</h4>
                        <p><strong>"Auto" = s√°m, "regresn√≠" = z√°visl√Ω</strong><br>
                        = Hodnota z√°vis√≠ sama na sobƒõ (na sv√Ωch minul√Ωch hodnot√°ch)</p>
                    </div>
                    <div class="example">
                        <h4>üîç Analogie:</h4>
                        <p>Jako kdy≈æ va≈°e n√°lada dnes z√°vis√≠ na n√°ladƒõ vƒçera a p≈ôedevƒç√≠rem.<br>
                        Pokud jste vƒçera mƒõli dobr√Ω den, dnes budete pravdƒõpodobnƒõ tak√© v dobr√© n√°ladƒõ.</p>
                    </div>
                    <div class="formula">y(t) = œÜ‚ÇÅ¬∑y(t-1) + œÜ‚ÇÇ¬∑y(t-2) + ... + œÜ‚Çö¬∑y(t-p) + Œµ‚Çú</div>
                    <div class="chart-container">
                        <canvas id="arChart"></canvas>
                    </div>
                    <div class="key-points">
                        <h4>Kl√≠ƒçov√© body:</h4>
                        <ul>
                            <li>AR(1): hodnota z√°vis√≠ jen na p≈ôedchoz√≠ hodnotƒõ</li>
                            <li>AR(2): hodnota z√°vis√≠ na dvou p≈ôedchoz√≠ch hodnot√°ch</li>
                            <li>ƒå√≠m vy≈°≈°√≠ AR, t√≠m v√≠ce "pamƒõti" m√° model</li>
                        </ul>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">I</span>Integrovan√° (I) komponenta</h3>
                    <div class="basic-definition">
                        <h4>Co to znamen√° "Integrovan√°":</h4>
                        <p><strong>Poƒçet diferenciov√°n√≠ pot≈ôebn√Ω k dosa≈æen√≠ stacionarity</strong><br>
                        I(1) = mus√≠me jednou diferencovat<br>I(0) = data u≈æ jsou stacion√°rn√≠</p>
                    </div>
                    <div class="example">
                        <h4>üîç P≈ô√≠klad:</h4>
                        <p>Cena akci√≠ roste ‚Üí nestacion√°rn√≠ ‚Üí pot≈ôebujeme diferenciov√°n√≠<br>
                        Po diferenciov√°n√≠: denn√≠ zmƒõny ceny ‚Üí stacion√°rn√≠</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="integrationChart"></canvas>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">MA</span>Klouzav√Ω pr≈Ømƒõr (MA) komponenta</h3>
                    <div class="basic-definition">
                        <h4>Co to znamen√° "Moving Average":</h4>
                        <p><strong>Model vyu≈æ√≠v√° p≈ôedchoz√≠ chyby predikce</strong><br>
                        Pokud model vƒçera "chyboval", vezme to v √∫vahu p≈ôi dne≈°n√≠ predikci</p>
                    </div>
                    <div class="example">
                        <h4>üîç Analogie:</h4>
                        <p>Jako kdy≈æ st≈ôelba na terƒç - pokud jste vƒçera m√≠≈ôili moc vlevo, dnes se posunete doprava.<br>
                        Model si "pamatuje" sv√© p≈ôedchoz√≠ chyby a sna≈æ√≠ se je kompenzovat.</p>
                    </div>
                    <div class="formula">y(t) = Œ∏‚ÇÅ¬∑Œµ‚Çú‚Çã‚ÇÅ + Œ∏‚ÇÇ¬∑Œµ‚Çú‚Çã‚ÇÇ + ... + Œ∏‚Çë¬∑Œµ‚Çú‚Çã‚Çë + Œµ‚Çú</div>
                    <div class="chart-container">
                        <canvas id="maChart"></canvas>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üß™</span>ADF Test (Test stacionarity)</h3>
                    <div class="basic-definition">
                        <h4>Co dƒõl√° ADF test:</h4>
                        <p><strong>Statisticky ovƒõ≈ô√≠, zda jsou data stacion√°rn√≠</strong><br>
                        V√Ωsledek: p-hodnota (pravdƒõpodobnost)</p>
                    </div>
                    <div class="example">
                        <h4>üîç Interpretace:</h4>
                        <p><strong>p-hodnota ‚â§ 0.05:</strong> "Data JSOU stacion√°rn√≠" ‚úÖ<br>
                        <strong>p-hodnota > 0.05:</strong> "Data NEJSOU stacion√°rn√≠" ‚ùå (pot≈ôeba diferenciov√°n√≠)</p>
                    </div>
                    <div class="interactive-demo">
                        <h4>üéØ Demo stacionarity:</h4>
                        <div class="demo-controls">
                            <label>Trend s√≠la: <input type="range" id="trendSlider" min="0" max="2" value="0" step="0.1" onchange="updateStationarity()"></label>
                            <label>N√°hodnost: <input type="range" id="noiseSlider" min="0.1" max="2" value="0.5" step="0.1" onchange="updateStationarity()"></label>
                        </div>
                        <div class="chart-container">
                            <canvas id="stationarityDemo"></canvas>
                        </div>
                        <div id="adfResult" style="padding: 0.5rem; background: #f8f9fa; border-radius: 4px; margin-top: 0.5rem;"></div>
                    </div>
                </div>
            </section>

            <!-- Holt-Winters Section -->
            <section id="holt-winters" class="section">
                <h2>üåä Exponenci√°ln√≠ vyhlazov√°n√≠ & Holt-Winters</h2>

                <div class="concept">
                    <h3><span class="concept-icon">üìâ</span>Exponenci√°ln√≠ vyhlazov√°n√≠</h3>
                    <div class="basic-definition">
                        <h4>Co to znamen√° "Exponenci√°ln√≠ vyhlazov√°n√≠":</h4>
                        <p><strong>V√°≈æen√Ω pr≈Ømƒõr, kde novƒõj≈°√≠ data maj√≠ vƒõt≈°√≠ v√°hu</strong><br>
                        "Exponenci√°ln√≠" = v√°hy klesaj√≠ exponenci√°lnƒõ s vƒõkem dat</p>
                    </div>
                    <div class="example">
                        <h4>üîç Analogie:</h4>
                        <p>Jako va≈°e pamƒõ≈• - vzpom√≠nky z vƒçera jsou ≈æivƒõj≈°√≠ ne≈æ z minul√©ho mƒõs√≠ce.<br>
                        Model d√°v√° vƒõt≈°√≠ v√°hu ned√°vn√Ωm hodnot√°m a men≈°√≠ v√°hu star√Ωm.</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="simpleExpChart"></canvas>
                    </div>
                    <div class="key-points">
                        <h4>Parametr Œ± (alfa):</h4>
                        <ul>
                            <li><strong>Œ± bl√≠zk√© 1:</strong> Rychl√° reakce na zmƒõny (nerv√≥zn√≠ model)</li>
                            <li><strong>Œ± bl√≠zk√© 0:</strong> Pomal√° reakce, siln√© vyhlazen√≠ (klidn√Ω model)</li>
                        </ul>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üìà</span>Holt-Winters metoda</h3>
                    <div class="basic-definition">
                        <h4>Co je Holt-Winters:</h4>
                        <p><strong>Roz≈°√≠≈ôen√≠ exponenci√°ln√≠ho vyhlazov√°n√≠ o trend a sez√≥nnost</strong><br>
                        T≈ôi komponenty: √∫rove≈à (level) + trend + sez√≥nnost</p>
                    </div>
                    <div class="example">
                        <h4>üîç P≈ô√≠klad:</h4>
                        <p><strong>Prodej zmrzliny:</strong><br>
                        ‚Ä¢ √örove≈à: pr≈Ømƒõrn√Ω prodej<br>
                        ‚Ä¢ Trend: roste dlouhodobƒõ<br>
                        ‚Ä¢ Sez√≥nnost: v√≠ce v l√©tƒõ, m√©nƒõ v zimƒõ</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="holtWintersChart"></canvas>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">‚ûï</span>Aditivn√≠ vs. Multiplikativn√≠ modely</h3>
                    <div class="basic-definition">
                        <h4>Rozd√≠l mezi aditivn√≠m a multiplikativn√≠m:</h4>
                        <p><strong>Aditivn√≠:</strong> Komponenty se Sƒå√çTAJ√ç (+ + +)<br>
                        <strong>Multiplikativn√≠:</strong> Komponenty se N√ÅSOB√ç (√ó √ó √ó)</p>
                    </div>
                    
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Aspekt</th>
                                <th>Aditivn√≠ model</th>
                                <th>Multiplikativn√≠ model</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Vzorec</strong></td>
                                <td>y = Level + Trend + Seasonal</td>
                                <td>y = Level √ó Trend √ó Seasonal</td>
                            </tr>
                            <tr>
                                <td><strong>Sez√≥nn√≠ v√Ωkyvy</strong></td>
                                <td>St√°le stejnƒõ velk√©</td>
                                <td>Rostou s √∫rovn√≠ dat</td>
                            </tr>
                            <tr>
                                <td><strong>P≈ô√≠klad pou≈æit√≠</strong></td>
                                <td>Teplota (rozd√≠l l√©to-zima konstantn√≠)</td>
                                <td>Prodeje (% n√°r≈Øst v V√°noc√≠ch)</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="chart-container">
                        <canvas id="additiveMultiplicativeChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Machine Learning Section -->
            <section id="ml" class="section">
                <h2>ü§ñ Machine Learning p≈ô√≠stupy</h2>

                <div class="concept">
                    <h3><span class="concept-icon">üîÑ</span>Supervised Learning pro ƒçasov√© ≈ôady</h3>
                    <div class="basic-definition">
                        <h4>Co znamen√° "Supervised Learning":</h4>
                        <p><strong>Uƒçen√≠ s uƒçitelem</strong> = uk√°≈æeme modelu p≈ô√≠klady "vstup ‚Üí v√Ωstup" a on se nauƒç√≠ pravidlo</p>
                        <p>Pro ƒçasov√© ≈ôady: p≈ôemƒõn√≠me na probl√©m "minul√© hodnoty ‚Üí budouc√≠ hodnota"</p>
                    </div>
                    <div class="example">
                        <h4>üîç Konkr√©tn√≠ p≈ô√≠klad transformace:</h4>
                        <p><strong>P≈Øvodn√≠ ƒçasov√° ≈ôada spot≈ôeby energie:</strong></p>
                        <table class="feature-table">
                            <tr>
                                <th>ƒåas</th>
                                <td>1h</td><td>2h</td><td>3h</td><td>4h</td><td>5h</td><td>6h</td><td>7h</td>
                            </tr>
                            <tr>
                                <th>Spot≈ôeba</th>
                                <td>120</td><td>125</td><td>118</td><td>130</td><td>135</td><td>128</td><td>?</td>
                            </tr>
                        </table>
                        <p><strong>Transformace na supervised learning:</strong></p>
                        <table class="feature-table">
                            <tr>
                                <th>Vstup (X)</th>
                                <th>V√Ωstup (y)</th>
                            </tr>
                            <tr>
                                <td class="lag-feature">[120, 125, 118]</td>
                                <td class="target">130</td>
                            </tr>
                            <tr>
                                <td class="lag-feature">[125, 118, 130]</td>
                                <td class="target">135</td>
                            </tr>
                            <tr>
                                <td class="lag-feature">[118, 130, 135]</td>
                                <td class="target">128</td>
                            </tr>
                        </table>
                    </div>
                    <div class="chart-container">
                        <canvas id="supervisedChart"></canvas>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üèóÔ∏è</span>Feature Engineering - tvorba p≈ô√≠znak≈Ø</h3>
                    <div class="basic-definition">
                        <h4>Co je "Feature Engineering":</h4>
                        <p><strong>Vytv√°≈ôen√≠ nov√Ωch u≈æiteƒçn√Ωch promƒõnn√Ωch z p≈Øvodn√≠ch dat</strong><br>
                        C√≠l: D√°t modelu v√≠ce informac√≠, aby l√©pe predikoval</p>
                    </div>
                    
                    <div class="example">
                        <h4>üîç Konkr√©tn√≠ p≈ô√≠klad na datasetu energie:</h4>
                        <p><strong>P≈Øvodn√≠ dataset:</strong></p>
                        <table class="feature-table">
                            <tr>
                                <th>ƒåas</th>
                                <th>Spot≈ôeba</th>
                                <th>Teplota</th>
                            </tr>
                            <tr>
                                <td>2024-01-01 10:00</td>
                                <td class="original-data">120</td>
                                <td class="original-data">15¬∞C</td>
                            </tr>
                            <tr>
                                <td>2024-01-01 11:00</td>
                                <td class="original-data">125</td>
                                <td class="original-data">16¬∞C</td>
                            </tr>
                            <tr>
                                <td>2024-01-01 12:00</td>
                                <td class="original-data">118</td>
                                <td class="original-data">17¬∞C</td>
                            </tr>
                        </table>

                        <p><strong>Po feature engineering:</strong></p>
                        <table class="feature-table" style="font-size: 0.8rem;">
                            <tr>
                                <th>Spot≈ôeba</th>
                                <th>Teplota</th>
                                <th>lag_1h<br>(Lag Feature)</th>
                                <th>lag_24h<br>(Lag Feature)</th>
                                <th>rolling_3h<br>(Rolling Mean)</th>
                                <th>hour_sin<br>(Cyklick√Ω)</th>
                                <th>je_v√≠kend<br>(Kategorick√Ω)</th>
                            </tr>
                            <tr>
                                <td class="target">118</td>
                                <td class="original-data">17</td>
                                <td class="lag-feature">125</td>
                                <td class="lag-feature">95</td>
                                <td class="rolling-feature">121</td>
                                <td>0.5</td>
                                <td>0</td>
                            </tr>
                        </table>

                        <p><strong>Vysvƒõtlen√≠ ka≈æd√© promƒõnn√©:</strong></p>
                        <ul>
                            <li><strong>lag_1h:</strong> Spot≈ôeba p≈ôed 1 hodinou</li>
                            <li><strong>lag_24h:</strong> Spot≈ôeba p≈ôed 24 hodinami (stejn√° hodina vƒçera)</li>
                            <li><strong>rolling_3h:</strong> Pr≈Ømƒõr z posledn√≠ch 3 hodin</li>
                            <li><strong>hour_sin:</strong> Sinusov√° funkce pro hodinu (zachyt√≠ denn√≠ cyklus)</li>
                            <li><strong>je_v√≠kend:</strong> 1 pokud je v√≠kend, 0 pokud v≈°edn√≠ den</li>
                        </ul>
                    </div>

                    <div class="interactive-demo">
                        <h4>üéØ Interaktivn√≠ uk√°zka features:</h4>
                        <div class="demo-controls">
                            <select id="featureType" onchange="updateFeatureDemo()">
                                <option value="lag">Lag Features (minul√© hodnoty)</option>
                                <option value="rolling">Rolling Mean (klouzav√Ω pr≈Ømƒõr)</option>
                                <option value="cyclic">Cyklick√© Features (hodina dne)</option>
                            </select>
                        </div>
                        <div class="chart-container">
                            <canvas id="featureDemo"></canvas>
                        </div>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üå≥</span>Random Forest pro forecasting</h3>
                    <div class="basic-definition">
                        <h4>Co je Random Forest:</h4>
                        <p><strong>"N√°hodn√Ω les" = kombinace mnoha rozhodovac√≠ch strom≈Ø</strong><br>
                        Ka≈æd√Ω strom d√° svou predikci, fin√°ln√≠ predikce = pr≈Ømƒõr v≈°ech strom≈Ø</p>
                    </div>
                    <div class="example">
                        <h4>üîç Analogie:</h4>
                        <p>Jako kdy≈æ se pt√°te 100 expert≈Ø na p≈ôedpovƒõƒè poƒças√≠ a udƒõl√°te pr≈Ømƒõr jejich odpovƒõd√≠.<br>
                        Jeden expert m≈Ø≈æe chybovat, ale pr≈Ømƒõr ze 100 expert≈Ø bude p≈ôesnƒõj≈°√≠.</p>
                    </div>
                    <div class="key-points">
                        <h4>V√Ωhody pro ƒçasov√© ≈ôady:</h4>
                        <ul>
                            <li><span class="highlight">Neline√°rn√≠ vztahy:</span> Zachyt√≠ slo≈æit√© vzory</li>
                            <li><span class="highlight">V√≠ce promƒõnn√Ωch:</span> Vyu≈æije v≈°echny vytvo≈ôen√© features</li>
                            <li><span class="highlight">Robustnost:</span> Odoln√Ω v≈Øƒçi chybn√Ωm dat≈Øm</li>
                            <li><span class="highlight">Feature importance:</span> ≈òekne, kter√° promƒõnn√° je nejd≈Øle≈æitƒõj≈°√≠</li>
                        </ul>
                    </div>
                    <div class="chart-container">
                        <canvas id="randomForestChart"></canvas>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">‚úÇÔ∏è</span>TimeSeriesSplit</h3>
                    <div class="basic-definition">
                        <h4>Proƒç speci√°ln√≠ rozdƒõlen√≠ pro ƒçasov√© ≈ôady:</h4>
                        <p><strong>Klasick√° k≈ô√≠≈æov√° validace:</strong> n√°hodnƒõ m√≠ch√° data ‚ùå<br>
                        <strong>TimeSeriesSplit:</strong> respektuje chronologick√© po≈ôad√≠ ‚úÖ</p>
                    </div>
                    <div class="example">
                        <h4>üîç Proƒç je to d≈Øle≈æit√©:</h4>
                        <p><strong>≈†patnƒõ:</strong> Tr√©nujeme na datech z prosince a testujeme na listopadu<br>
                        <strong>Spr√°vnƒõ:</strong> Tr√©nujeme na leden-≈ô√≠jen a testujeme na listopadu</p>
                    </div>
                    <div class="chart-container">
                        <canvas id="timeSeriesSplitChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Evaluation Section -->
            <section id="evaluation" class="section">
                <h2>üìä Evaluace a metriky</h2>

                <div class="concept">
                    <h3><span class="concept-icon">üìè</span>Metriky p≈ôesnosti - vizu√°ln√≠ porovn√°n√≠</h3>
                    <div class="basic-definition">
                        <h4>T≈ôi hlavn√≠ metriky a jejich rozd√≠ly:</h4>
                        <p>Uk√°≈æeme si na konkr√©tn√≠m p≈ô√≠kladu, jak se li≈°√≠ MAE, RMSE a MAPE</p>
                    </div>
                    
                    <div class="interactive-demo">
                        <h4>üéØ Interaktivn√≠ porovn√°n√≠ metrik:</h4>
                        <div class="demo-controls">
                            <button onclick="generateErrorExample('normal')">Norm√°ln√≠ chyby</button>
                            <button onclick="generateErrorExample('outlier')">S velk√Ωmi odchylkami</button>
                            <button onclick="generateErrorExample('small')">Mal√© hodnoty</button>
                        </div>
                        <div class="chart-container">
                            <canvas id="metricsComparison"></canvas>
                        </div>
                        <div class="metric-comparison">
                            <div class="metric-box">
                                <h4>MAE</h4>
                                <div id="maeValue">0</div>
                                <p>Pr≈Ømƒõrn√° absolutn√≠ chyba</p>
                            </div>
                            <div class="metric-box">
                                <h4>RMSE</h4>
                                <div id="rmseValue">0</div>
                                <p>Odmocnina st≈ôedn√≠ch kvadr√°t≈Ø</p>
                            </div>
                            <div class="metric-box">
                                <h4>MAPE</h4>
                                <div id="mapeValue">0</div>
                                <p>St≈ôedn√≠ absolutn√≠ procentn√≠ chyba</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üìè</span>Mean Absolute Error (MAE)</h3>
                    <div class="basic-definition">
                        <h4>Co je MAE:</h4>
                        <p><strong>Pr≈Ømƒõrn√° velikost chyb (bez ohledu na smƒõr)</strong><br>
                        V≈°echny chyby maj√≠ stejnou v√°hu</p>
                    </div>
                    <div class="formula">MAE = (1/n) √ó Œ£|skuteƒçn√° - predikce|</div>
                    <div class="example">
                        <h4>üîç P≈ô√≠klad v√Ωpoƒçtu:</h4>
                        <p>Skuteƒçn√©: [100, 110, 120]<br>
                        Predikce: [95, 115, 125]<br>
                        Chyby: [|100-95|, |110-115|, |120-125|] = [5, 5, 5]<br>
                        <strong>MAE = (5+5+5)/3 = 5</strong></p>
                    </div>
                    <div class="key-points">
                        <h4>V√Ωhody MAE:</h4>
                        <ul>
                            <li>Snadn√° interpretace (stejn√© jednotky jako data)</li>
                            <li>Robustn√≠ v≈Øƒçi odlehl√Ωm hodnot√°m</li>
                            <li>V≈°echny chyby maj√≠ stejnou v√°hu</li>
                        </ul>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üìê</span>Root Mean Squared Error (RMSE)</h3>
                    <div class="basic-definition">
                        <h4>Co je RMSE:</h4>
                        <p><strong>Penalizuje velk√© chyby v√≠ce ne≈æ mal√©</strong><br>
                        Kv≈Øli umocnƒõn√≠ na druhou jsou velk√© chyby "hor≈°√≠"</p>
                    </div>
                    <div class="formula">RMSE = ‚àö[(1/n) √ó Œ£(skuteƒçn√° - predikce)¬≤]</div>
                    <div class="example">
                        <h4>üîç Porovn√°n√≠ s MAE:</h4>
                        <p><strong>Sc√©n√°≈ô A:</strong> Chyby [5, 5, 5]<br>
                        MAE = 5, RMSE = 5<br><br>
                        <strong>Sc√©n√°≈ô B:</strong> Chyby [1, 1, 13]<br>
                        MAE = 5, RMSE = 7.6<br><br>
                        RMSE v√≠ce "trest√°" velkou chybu 13!</p>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">%</span>Mean Absolute Percentage Error (MAPE)</h3>
                    <div class="basic-definition">
                        <h4>Co je MAPE:</h4>
                        <p><strong>Chyba vyj√°d≈ôen√° v procentech</strong><br>
                        Nez√°visl√© na mƒõ≈ô√≠tku dat - 5% chyba je stejn√° u mal√Ωch i velk√Ωch ƒç√≠sel</p>
                    </div>
                    <div class="formula">MAPE = (100/n) √ó Œ£|(skuteƒçn√° - predikce)/skuteƒçn√°|</div>
                    <div class="example">
                        <h4>üîç Proƒç procenta:</h4>
                        <p><strong>Dataset A:</strong> Chyba 10 p≈ôi hodnotƒõ 100 = 10% chyba<br>
                        <strong>Dataset B:</strong> Chyba 100 p≈ôi hodnotƒõ 1000 = 10% chyba<br><br>
                        MAPE uk√°≈æe, ≈æe oba modely maj√≠ stejnou <strong>relativn√≠</strong> p≈ôesnost</p>
                    </div>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üîç</span>Residual Analysis</h3>
                    <div class="basic-definition">
                        <h4>Co je anal√Ωza rezidu√≠:</h4>
                        <p><strong>Reziduum = Skuteƒçn√° hodnota - Predikovan√° hodnota</strong><br>
                        Anal√Ωza rezidu√≠ uk√°≈æe, jestli model nƒõco p≈ôehl√©dl</p>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="residualChart"></canvas>
                    </div>

                    <div class="key-points">
                        <h4>Co hledat v rezidu√≠ch:</h4>
                        <ul>
                            <li><span class="highlight">N√°hodnost:</span> Rezidu√° by mƒõla b√Ωt n√°hodn√° (≈æ√°dn√Ω vzor)</li>
                            <li><span class="highlight">Kolem nuly:</span> Pr≈Ømƒõr rezidu√≠ by mƒõl b√Ωt bl√≠zko 0</li>
                            <li><span class="highlight">Konstantn√≠ rozptyl:</span> Velikost rezidu√≠ by se nemƒõla mƒõnit v ƒçase</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Comparison Section -->
            <section id="comparison" class="section">
                <h2>‚öñÔ∏è Porovn√°n√≠ metod</h2>

                <div class="concept">
                    <h3><span class="concept-icon">üèÜ</span>V√Ωbƒõr nejlep≈°√≠ho modelu</h3>
                    
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Krit√©rium</th>
                                <th>ARIMA</th>
                                <th>Holt-Winters</th>
                                <th>Random Forest</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Interpretabilita</strong></td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê<br><small>Jasn√© statistick√© zd≈Øvodnƒõn√≠</small></td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê<br><small>Viditeln√© komponenty</small></td>
                                <td>‚≠ê‚≠ê<br><small>ƒåern√° sk≈ô√≠≈àka</small></td>
                            </tr>
                            <tr>
                                <td><strong>P≈ôesnost</strong></td>
                                <td>‚≠ê‚≠ê‚≠ê<br><small>Dobr√° pro jednoduch√° data</small></td>
                                <td>‚≠ê‚≠ê‚≠ê<br><small>Rychl√° implementace</small></td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê<br><small>ƒåasto nejp≈ôesnƒõj≈°√≠</small></td>
                            </tr>
                            <tr>
                                <td><strong>Rychlost tr√©nov√°n√≠</strong></td>
                                <td>‚≠ê‚≠ê<br><small>M≈Ø≈æe b√Ωt pomal√©</small></td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê<br><small>Velmi rychl√©</small></td>
                                <td>‚≠ê‚≠ê‚≠ê<br><small>St≈ôedn√≠ rychlost</small></td>
                            </tr>
                            <tr>
                                <td><strong>Robustnost</strong></td>
                                <td>‚≠ê‚≠ê<br><small>Citliv√© na p≈ôedpoklady</small></td>
                                <td>‚≠ê‚≠ê‚≠ê<br><small>Dobr√© pro standardn√≠ vzory</small></td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê<br><small>Odoln√© v≈Øƒçi odlehl√Ωm hodnot√°m</small></td>
                            </tr>
                            <tr>
                                <td><strong>Flexibilita</strong></td>
                                <td>‚≠ê‚≠ê<br><small>Pouze ƒçasov√© ≈ôady</small></td>
                                <td>‚≠ê‚≠ê‚≠ê<br><small>Trend + sez√≥nnost</small></td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê<br><small>M≈Ø≈æe vyu≈æ√≠t jak√©koli promƒõnn√©</small></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="concept">
                    <h3><span class="concept-icon">üéØ</span>Kdy pou≈æ√≠t kterou metodu?</h3>
                    
                    <div class="key-points">
                        <h4>ARIMA - volte kdy≈æ:</h4>
                        <ul>
                            <li>Pot≈ôebujete vysvƒõtlit <strong>PROƒå</strong> model predikuje urƒçitou hodnotu</li>
                            <li>Prezentujete v√Ωsledky managementu nebo klient≈Øm</li>
                            <li>M√°te pouze ƒçasovou ≈ôadu bez dal≈°√≠ch promƒõnn√Ωch</li>
                            <li>Data maj√≠ jasnou strukturu (trend, sez√≥nnost)</li>
                        </ul>
                    </div>

                    <div class="key-points">
                        <h4>Holt-Winters - volte kdy≈æ:</h4>
                        <ul>
                            <li>Pot≈ôebujete <strong>rychle</strong> nasadit funkƒçn√≠ ≈ôe≈°en√≠</li>
                            <li>Data maj√≠ z≈ôeteln√Ω trend a sez√≥nnost</li>
                            <li>M√°te omezen√© v√Ωpoƒçetn√≠ zdroje</li>
                            <li>Chcete jednoduchou a stabiln√≠ metodu</li>
                        </ul>
                    </div>

                    <div class="key-points">
                        <h4>Random Forest - volte kdy≈æ:</h4>
                        <ul>
                            <li>Priorita je <strong>maxim√°ln√≠ p≈ôesnost</strong> predikce</li>
                            <li>M√°te k dispozici dal≈°√≠ promƒõnn√© (teplota, cena, marketing...)</li>
                            <li>Data obsahuj√≠ slo≈æit√© neline√°rn√≠ vzory</li>
                            <li>M≈Ø≈æete obƒõtovat interpretabilitu za p≈ôesnost</li>
                        </ul>
                    </div>
                </div>

            </section>
        </div>
    </div>

    <script>
        // Chart configurations
        const chartConfig = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'top',
                }
            },
            scales: {
                y: {
                    beginAtZero: false
                }
            }
        };

        // Helper functions
        function generateTimeSeries(length, trend = 0, seasonality = 0, noise = 1) {
            const data = [];
            for (let i = 0; i < length; i++) {
                const seasonal = seasonality * Math.sin(2 * Math.PI * i / 24);
                const trendValue = trend * i / length;
                const random = (Math.random() - 0.5) * noise;
                data.push(10 + trendValue + seasonal + random);
            }
            return data;
        }

        // Initialize charts
        document.addEventListener('DOMContent', function() {
            initializeCharts();
        });

        function initializeCharts() {
            // Basic Time Series
            const tsBasicCtx = document.getElementById('timeSeriesBasic');
            if (tsBasicCtx) {
                const basicData = [120, 125, 118, 130, 135, 128, 122, 138, 142, 135];
                new Chart(tsBasicCtx, {
                    type: 'line',
                    data: {
                        labels: ['1h', '2h', '3h', '4h', '5h', '6h', '7h', '8h', '9h', '10h'],
                        datasets: [{
                            label: 'Spot≈ôeba energie (MWh)',
                            data: basicData,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            tension: 0.4,
                            pointRadius: 6
                        }]
                    },
                    options: chartConfig
                });
            }

            // Stationarity Basic
            const statBasicCtx = document.getElementById('stationarityBasic');
            if (statBasicCtx) {
                const stationaryData = [10, 12, 9, 11, 13, 10, 12, 11, 10, 13];
                const nonStationaryData = [10, 12, 14, 16, 18, 20, 22, 24, 26, 28];
                new Chart(statBasicCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 10}, (_, i) => i + 1),
                        datasets: [{
                            label: 'Stacion√°rn√≠ (v√°ha dospƒõl√©ho)',
                            data: stationaryData,
                            borderColor: '#27ae60',
                            tension: 0.4
                        }, {
                            label: 'Nestacion√°rn√≠ (v√Ω≈°ka d√≠tƒõte)',
                            data: nonStationaryData,   
                            borderColor: '#e74c3c',
                            tension: 0.4
                        }]
                    },
                    options: chartConfig
                });
            }

            // Differencing Basic
            const diffBasicCtx = document.getElementById('differencingBasic');
            if (diffBasicCtx) {
                const originalData = [100, 105, 110, 115, 120, 125];
                const diffData = [null, 5, 5, 5, 5, 5];
                new Chart(diffBasicCtx, {
                    type: 'line',
                    data: {
                        labels: ['t1', 't2', 't3', 't4', 't5', 't6'],
                        datasets: [{
                            label: 'P≈Øvodn√≠ data (nestacion√°rn√≠)',
                            data: originalData,
                            borderColor: '#e74c3c',
                            yAxisID: 'y'
                        }, {
                            label: 'Po diferenciov√°n√≠ (stacion√°rn√≠)',
                            data: diffData,
                            borderColor: '#27ae60',
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        ...chartConfig,
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                title: { display: true, text: 'P≈Øvodn√≠ hodnoty' }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                title: { display: true, text: 'Diference' },
                                grid: { drawOnChartArea: false }
                            }
                        }
                    }
                });
            }

            // Error Basic
            const errorBasicCtx = document.getElementById('errorBasic');
            if (errorBasicCtx) {
                const actual = [25, 28, 30, 26, 29];
                const predicted = [23, 30, 28, 28, 27];
                new Chart(errorBasicCtx, {
                    type: 'line',
                    data: {
                        labels: ['Den 1', 'Den 2', 'Den 3', 'Den 4', 'Den 5'],
                        datasets: [{
                            label: 'Skuteƒçn√° teplota',
                            data: actual,
                            borderColor: '#2c3e50',
                            backgroundColor: 'rgba(44, 62, 80, 0.1)',
                            pointRadius: 8
                        }, {
                            label: 'Predikovan√° teplota',
                            data: predicted,
                            borderColor: '#e74c3c',
                            borderDash: [5, 5],
                            pointRadius: 8
                        }]
                    },
                    options: {
                        ...chartConfig,
                        plugins: {
                            ...chartConfig.plugins,
                            tooltip: {
                                callbacks: {
                                    afterLabel: function(context) {
                                        if (context.datasetIndex === 0) {
                                            const predVal = predicted[context.dataIndex];
                                            const actualVal = context.parsed.y;
                                            const error = actualVal - predVal;
                                            return `Chyba: ${error > 0 ? '+' : ''}${error}¬∞C`;
                                        }
                                        return '';
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Variance Basic
            const varBasicCtx = document.getElementById('varianceBasic');
            if (varBasicCtx) {
                const lowVariance = [2, 1.8, 2.2, 1.9, 2.1, 2, 1.9, 2.1, 2, 1.8];
                const highVariance = [5, 1, 4, 1, 5, 2, 4, 1, 5, 1];
                new Chart(varBasicCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 10}, (_, i) => `Student ${i+1}`),
                        datasets: [{
                            label: 'N√≠zk√Ω rozptyl (podobn√© zn√°mky)',
                            data: lowVariance,
                            borderColor: '#27ae60',
                            tension: 0.4
                        }, {
                            label: 'Vysok√Ω rozptyl (r≈Øzn√© zn√°mky)',
                            data: highVariance,
                            borderColor: '#e74c3c',
                            tension: 0.4
                        }]
                    },
                    options: {
                        ...chartConfig,
                        scales: {
                            y: {
                                min: 0,
                                max: 6,
                                title: { display: true, text: 'Zn√°mka' }
                            }
                        }
                    }
                });
            }

            // Continue with other charts...
            initializeARIMACharts();
            initializeHoltWintersCharts();
            initializeMLCharts();
            initializeEvaluationCharts();
        }

        function initializeARIMACharts() {
            // AR Chart
            const arCtx = document.getElementById('arChart');
            if (arCtx) {
                const arData = [10, 12, 11.5, 13, 12.5, 14, 13.5, 15, 14.5, 16];
                const arPred = [null, 10*0.8, 12*0.8, 11.5*0.8, 13*0.8, 12.5*0.8, 14*0.8, 13.5*0.8, 15*0.8, 14.5*0.8];
                new Chart(arCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 10}, (_, i) => `t${i+1}`),
                        datasets: [{
                            label: 'Skuteƒçn√© hodnoty',
                            data: arData,
                            borderColor: '#3498db',
                            pointRadius: 6
                        }, {
                            label: 'AR predikce (y(t) = 0.8√óy(t-1))',
                            data: arPred,
                            borderColor: '#e74c3c',
                            borderDash: [5, 5],
                            pointRadius: 4
                        }]
                    },
                    options: chartConfig
                });
            }

            // Integration Chart
            const integrationCtx = document.getElementById('integrationChart');
            if (integrationCtx) {
                const trendData = [100, 102, 104, 106, 108, 110, 112, 114, 116, 118];
                const diffData = [null, 2, 2, 2, 2, 2, 2, 2, 2, 2];
                new Chart(integrationCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 10}, (_, i) => `t${i+1}`),
                        datasets: [{
                            label: 'P≈Øvodn√≠ (nestacion√°rn√≠)',
                            data: trendData,
                            borderColor: '#e74c3c',
                            yAxisID: 'y'
                        }, {
                            label: 'Po diferenciov√°n√≠ (stacion√°rn√≠)',
                            data: diffData,
                            borderColor: '#27ae60',
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        ...chartConfig,
                        scales: {
                            y: {
                                position: 'left',
                                title: { display: true, text: 'P≈Øvodn√≠ ≈°k√°la' }
                            },
                            y1: {
                                position: 'right',
                                title: { display: true, text: 'Diference' },
                                grid: { drawOnChartArea: false }
                            }
                        }
                    }
                });
            }

            // MA Chart
            const maCtx = document.getElementById('maChart');
            if (maCtx) {
                const errors = [1, -2, 1.5, -1, 2, -1.5, 1, -2, 1.5, -1];
                const maData = errors.map((err, i) => {
                    if (i === 0) return 10 + err;
                    return 10 + err + 0.5 * errors[i-1];
                });
                new Chart(maCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 10}, (_, i) => `t${i+1}`),
                        datasets: [{
                            label: 'MA proces',
                            data: maData,
                            borderColor: '#9b59b6',
                            tension: 0.4
                        }, {
                            label: 'Chyby Œµ‚Çú',
                            data: errors.map(e => e + 10),
                            borderColor: '#f39c12',
                            borderDash: [3, 3]
                        }]
                    },
                    options: chartConfig
                });
            }
        }

        function initializeHoltWintersCharts() {
            // Simple Exponential Smoothing
            const simpleExpCtx = document.getElementById('simpleExpChart');
            if (simpleExpCtx) {
                const rawData = [10, 15, 12, 18, 14, 20, 16, 22, 18, 24, 20, 26];
                const alpha03 = [];
                const alpha08 = [];
                let s03 = rawData[0], s08 = rawData[0];
                
                rawData.forEach((val, i) => {
                    if (i > 0) {
                        s03 = 0.3 * val + 0.7 * s03;
                        s08 = 0.8 * val + 0.2 * s08;
                    }
                    alpha03.push(s03);
                    alpha08.push(s08);
                });

                new Chart(simpleExpCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 12}, (_, i) => i + 1),
                        datasets: [{
                            label: 'P≈Øvodn√≠ data',
                            data: rawData,
                            borderColor: '#34495e',
                            pointRadius: 4
                        }, {
                            label: 'Œ± = 0.3 (klidn√Ω model)',
                            data: alpha03,
                            borderColor: '#3498db',
                            tension: 0.4
                        }, {
                            label: 'Œ± = 0.8 (nerv√≥zn√≠ model)',
                            data: alpha08,
                            borderColor: '#e74c3c',
                            tension: 0.4
                        }]
                    },
                    options: chartConfig
                });
            }

            // Holt-Winters
            const holtWintersCtx = document.getElementById('holtWintersChart');
            if (holtWintersCtx) {
                const data = generateTimeSeries(48, 0.1, 3, 0.5);
                const trend = data.map((_, i) => 10 + i * 0.1);
                const seasonal = Array.from({length: 48}, (_, i) => 3 * Math.sin(2 * Math.PI * i / 12));
                
                new Chart(holtWintersCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 48}, (_, i) => i),
                        datasets: [{
                            label: 'Pozorovan√° data',
                            data: data,
                            borderColor: '#2c3e50'
                        }, {
                            label: 'Trend',
                            data: trend,
                            borderColor: '#3498db',
                            borderDash: [10, 5]
                        }, {
                            label: 'Sez√≥nnost',
                            data: seasonal.map(s => s + 12),
                            borderColor: '#e74c3c',
                            borderDash: [5, 5]
                        }]
                    },
                    options: chartConfig
                });
            }

            // Additive vs Multiplicative
            const addMultCtx = document.getElementById('additiveMultiplicativeChart');
            if (addMultCtx) {
                const baseLevel = 10;
                const trendComp = Array.from({length: 24}, (_, i) => i * 0.2);
                const seasonalComp = Array.from({length: 24}, (_, i) => 3 * Math.sin(2 * Math.PI * i / 12));
                const additiveData = trendComp.map((t, i) => baseLevel + t + seasonalComp[i]);
                const multiplicativeData = trendComp.map((t, i) => (baseLevel + t) * (1 + seasonalComp[i] / 15));

                new Chart(addMultCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 24}, (_, i) => i),
                        datasets: [{
                            label: 'Aditivn√≠ model (Level + Trend + Seasonal)',
                            data: additiveData,
                            borderColor: '#27ae60',
                            tension: 0.4
                        }, {
                            label: 'Multiplikativn√≠ model (Level √ó Trend √ó Seasonal)',
                            data: multiplicativeData,
                            borderColor: '#8e44ad',
                            tension: 0.4
                        }]
                    },
                    options: chartConfig
                });
            }
        }

        function initializeMLCharts() {
            // Supervised Learning
            const supervisedCtx = document.getElementById('supervisedChart');
            if (supervisedCtx) {
                const series = [120, 125, 118, 130, 135, 128, 140, 145];
                new Chart(supervisedCtx, {
                    type: 'line',
                    data: {
                        labels: ['1h', '2h', '3h', '4h', '5h', '6h', '7h', '8h'],
                        datasets: [{
                            label: 'ƒåasov√° ≈ôada spot≈ôeby',
                            data: series,
                            borderColor: '#3498db',
                            pointBackgroundColor: series.map((_, i) => 
                                i < 3 ? '#e74c3c' : i === 3 ? '#27ae60' : '#3498db'
                            ),
                            pointRadius: 8
                        }]
                    },
                    options: {
                        ...chartConfig,
                        plugins: {
                            ...chartConfig.plugins,
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const index = context.dataIndex;
                                        if (index < 3) return `Vstupn√≠ feature: ${context.parsed.y} MWh`;
                                        if (index === 3) return `Target (predikujeme): ${context.parsed.y} MWh`;
                                        return `Hodnota: ${context.parsed.y} MWh`;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Random Forest
            const rfCtx = document.getElementById('randomForestChart');
            if (rfCtx) {
                const actualData = generateTimeSeries(50, 0.05, 2, 0.3);
                const rfPredictions = actualData.map((val, i) => {
                    if (i < 5) return null;
                    return val + (Math.random() - 0.5) * 0.8;
                });

                new Chart(rfCtx, {
                    type: 'line',
                    data: {
                        labels: Array.from({length: 50}, (_, i) => i),
                        datasets: [{
                            label: 'Skuteƒçn√© hodnoty',
                            data: actualData,
                            borderColor: '#2c3e50',
                            pointRadius: 2
                        }, {
                            label: 'Random Forest predikce',
                            data: rfPredictions,
                            borderColor: '#27ae60',
                            borderDash: [5, 5],
                            pointRadius: 2
                        }]
                    },
                    options: chartConfig
                });
            }

            // Time Series Split
            const tsSplitCtx = document.getElementById('timeSeriesSplitChart');
            if (tsSplitCtx) {
                new Chart(tsSplitCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: 'Train Split 1',
                            data: Array.from({length: 20}, (_, i) => ({x: i, y: 3})),
                            backgroundColor: '#3498db'
                        }, {
                            label: 'Test Split 1',
                            data: Array.from({length: 5}, (_, i) => ({x: i + 20, y: 3})),
                            backgroundColor: '#e74c3c'
                        }, {
                            label: 'Train Split 2',
                            data: Array.from({length: 30}, (_, i) => ({x: i, y: 2})),
                            backgroundColor: '#3498db'
                        }, {
                            label: 'Test Split 2',
                            data: Array.from({length: 5}, (_, i) => ({x: i + 30, y: 2})),
                            backgroundColor: '#e74c3c'
                        }, {
                            label: 'Train Split 3',
                            data: Array.from({length: 40}, (_, i) => ({x: i, y: 1})),
                            backgroundColor: '#3498db'
                        }, {
                            label: 'Test Split 3',
                            data: Array.from({length: 5}, (_, i) => ({x: i + 40, y: 1})),
                            backgroundColor: '#e74c3c'
                        }]
                    },
                    options: {
                        ...chartConfig,
                        scales: {
                            y: {
                                display: true,
                                min: 0.5,
                                max: 3.5,
                                ticks: {
                                    callback: function(value) {
                                        return ['', 'Split 3', 'Split 2', 'Split 1'][value] || '';
                                    }
                                }
                            },
                            x: {
                                title: { display: true, text: 'ƒåasov√Ω index' }
                            }
                        }
                    }
                });
            }
        }

        function initializeEvaluationCharts() {
            // Residual Analysis
            const residualCtx = document.getElementById('residualChart');
            if (residualCtx) {
                const predictions = generateTimeSeries(30, 0, 0, 0.3);
                const actual = predictions.map(p => p + (Math.random() - 0.5) * 2);
                const residuals = actual.map((a, i) => a - predictions[i]);

                new Chart(residualCtx, {
                    type: 'scatter',
                    data: {
                        datasets: [{
                            label: 'Rezidu√° (Skuteƒçn√° - Predikovan√°)',
                            data: residuals.map((r, i) => ({x: i, y: r})),
                            backgroundColor: residuals.map(r => Math.abs(r) > 1 ? '#e74c3c' : '#3498db'),
                            pointRadius: 4
                        }]
                    },
                    options: {
                        ...chartConfig,
                        scales: {
                            x: { title: { display: true, text: 'ƒåasov√Ω index' }},
                            y: { 
                                title: { display: true, text: 'Reziduum' },
                                // Add horizontal line at y=0
                                grid: {
                                    color: function(context) {
                                        return context.tick.value === 0 ? '#e74c3c' : '#e0e0e0';
                                    },
                                    lineWidth: function(context) {
                                        return context.tick.value === 0 ? 2 : 1;
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        // Interactive functions
        function updateStationarity() {
            const trend = parseFloat(document.getElementById('trendSlider').value);
            const noise = parseFloat(document.getElementById('noiseSlider').value);
            
            const stationaryData = generateTimeSeries(50, 0, 1, noise);
            const nonStationaryData = generateTimeSeries(50, trend, 1, noise);
            
            const ctx = document.getElementById('stationarityDemo');
            if (ctx && window.stationarityChart) {
                window.stationarityChart.destroy();
            }
            
            window.stationarityChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 50}, (_, i) => i),
                    datasets: [{
                        label: 'Stacion√°rn√≠ ≈ôada',
                        data: stationaryData,
                        borderColor: '#27ae60',
                        tension: 0.4
                    }, {
                        label: 'Nestacion√°rn√≠ ≈ôada',
                        data: nonStationaryData,
                        borderColor: '#e74c3c',
                        tension: 0.4
                    }]
                },
                options: chartConfig
            });

            // Mock ADF test result
            const adfResult = document.getElementById('adfResult');
            if (adfResult) {
                const isStationary = trend < 0.5;
                const pValue = isStationary ? 0.01 : 0.15;
                adfResult.innerHTML = `
                    <strong>ADF Test v√Ωsledek:</strong><br>
                    p-hodnota: ${pValue}<br>
                    <strong>${isStationary ? 
                        '‚úÖ Data JSOU stacion√°rn√≠ (p ‚â§ 0.05)' : 
                        '‚ùå Data NEJSOU stacion√°rn√≠ (p > 0.05)'
                    }</strong>
                `;
                adfResult.style.background = isStationary ? '#e8f5e8' : '#ffeaea';
            }
        }

        function updateFeatureDemo() {
            const featureType = document.getElementById('featureType').value;
            const ctx = document.getElementById('featureDemo');
            
            if (window.featureChart) {
                window.featureChart.destroy();
            }
            
            const baseData = [120, 125, 118, 130, 135, 128, 122, 138, 142, 135, 140, 145];
            let featureData, featureLabel, yAxisId = 'y';
            
            switch(featureType) {
                case 'lag':
                    featureData = [null, ...baseData.slice(0, -1)];
                    featureLabel = 'Lag-1 feature (hodnota p≈ôed 1h)';
                    break;
                case 'rolling':
                    featureData = baseData.map((_, i) => {
                        if (i < 2) return null;
                        return baseData.slice(Math.max(0, i-2), i+1).reduce((a, b) => a + b) / 3;
                    });
                    featureLabel = 'Rolling mean (pr≈Ømƒõr z 3h)';
                    break;
                case 'cyclic':
                    featureData = baseData.map((_, i) => Math.sin(2 * Math.PI * i / 24));
                    featureLabel = 'Cyklick√Ω p≈ô√≠znak (sin hodina/24)';
                    yAxisId = 'y1';
                    break;
            }
            
            const datasets = [{
                label: 'P≈Øvodn√≠ spot≈ôeba energie',
                data: baseData,
                borderColor: '#2c3e50',
                yAxisID: 'y'
            }, {
                label: featureLabel,
                data: featureData,
                borderColor: '#e74c3c',
                yAxisID: yAxisId
            }];

            const scales = featureType === 'cyclic' ? {
                y: {
                    position: 'left',
                    title: { display: true, text: 'MWh' }
                },
                y1: {
                    position: 'right',
                    title: { display: true, text: 'Cyklick√° hodnota' },
                    min: -1,
                    max: 1,
                    grid: { drawOnChartArea: false }
                }
            } : chartConfig.scales;
            
            window.featureChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: 12}, (_, i) => `${i+1}h`),
                    datasets: datasets
                },
                options: {
                    ...chartConfig,
                    scales: scales
                }
            });
        }

        function generateErrorExample(type) {
            let actual, predicted;
            
            switch(type) {
                case 'normal':
                    actual = [100, 105, 110, 108, 115, 120, 118, 125];
                    predicted = [98, 107, 112, 106, 117, 118, 120, 123];
                    break;
                case 'outlier':
                    actual = [100, 105, 110, 108, 115, 120, 118, 125];
                    predicted = [101, 104, 109, 130, 114, 119, 117, 124]; // One big error
                    break;
                case 'small':
                    actual = [10, 12, 11, 13, 15, 14, 16, 18];
                    predicted = [9, 13, 10, 14, 16, 13, 17, 17];
                    break;
            }

            // Calculate metrics
            const errors = actual.map((a, i) => Math.abs(a - predicted[i]));  
            const mae = errors.reduce((a, b) => a + b) / errors.length;
            const rmse = Math.sqrt(errors.map(e => e * e).reduce((a, b) => a + b) / errors.length);
            const mape = actual.map((a, i) => Math.abs((a - predicted[i]) / a) * 100)
                              .reduce((a, b) => a + b) / actual.length;

            // Update chart
            const ctx = document.getElementById('metricsComparison');
            if (window.metricsChart) {
                window.metricsChart.destroy();
            }
            
            window.metricsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: Array.from({length: actual.length}, (_, i) => `t${i+1}`),
                    datasets: [{
                        label: 'Skuteƒçn√© hodnoty',
                        data: actual,
                        borderColor: '#2c3e50',
                        pointRadius: 6
                    }, {
                        label: 'Predikovan√© hodnoty',
                        data: predicted,
                        borderColor: '#e74c3c',
                        borderDash: [5, 5],
                        pointRadius: 6
                    }]
                },
                options: chartConfig
            });

            // Update metric values
            document.getElementById('maeValue').textContent = mae.toFixed(2);
            document.getElementById('rmseValue').textContent = rmse.toFixed(2);
            document.getElementById('mapeValue').textContent = mape.toFixed(1) + '%';
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            updateStationarity();
            updateFeatureDemo();
            generateErrorExample('normal');
        });
    </script>
</body>
</html>